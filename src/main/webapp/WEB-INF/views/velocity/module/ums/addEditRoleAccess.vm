
										<form  id="addeditroleform"  action="#">
												  	<div class="form-group">
														    <label for="role">Role:</label>
														    <input type="text" class="form-control" id="role" placeholder="Enter Role" name="role" #if($!roleId > 0) value="$!role.role"  #end  />
												    </div>
												    <div class="form-group">
														<label for="menuaccess">Menu Access:</label>
															<select class="form-control" multiple  id="menuaccess">
																  #foreach($s in $!modulesList) 		
																	    <optgroup label="$!s.moduleName" >
																	  			#foreach($k in $!menusList)
																		  				#if($!k.moduleId == $!s.id)
																		  						#foreach($p in $!roleBasedMenusList)
																		  								#if($!roleId > 0 && $!p.id == $!k.id) 
																		  									<option  value="$!k.id"  selected="selected" > $!k.menuName </option>
																		  								#else 
																		  									<option  value="$!k.id"  > $!k.menuName </option>
																		  								#end	
																		  						#end	
																		  				#end 		
																	  		    #end			
																  		</optgroup>
																  #end	    
															</select>
												    </div>
													<button type="submit" class="btn btn-default">Submit</button>
										  </form>

										  
<script type="text/javascript">

				$("#addeditroleform").submit(function(event) {
									event.preventDefault();
				  					var formData = $("#addeditroleform").serialize();
				  					$.ajax({
				  								type : 'POST',
				  								url : contextUrl+'modules/ums/insertUpdateRoleAccess',
				  								data : formData,
				  								success : function(data) {
				  											$("#mymodal").modal("hide");
				  											if(data > 0) {
				  													alert('User Updated Successfully...');
				  											} else {
				  													alert('Unable to process your request....');
				  											}
				  								},
				  								error : function(jqXHR, status, error) {
				  									if(jqXHR.status == 403) {
														alert('Your session has expired. Please login again...');
														sessionTimeout(function() {
																window.location.href=contextUrl;		
														},1000);
													} else {
														alert('Unable to process your request.Please try again...');
													}
													console.log(error);
													console.log(status);
				  								}
				  					});
									
									
				});

</script>